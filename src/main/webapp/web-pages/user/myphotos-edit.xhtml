<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pretty="http://ocpsoft.com/prettyfaces"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:b="http://bootsfaces.net/ui">
	
	<h:body>
		<ui:composition template="/template/layout-template.xhtml">
			<ui:define name="title">Modification de photo</ui:define>
			
			<ui:define name="script-css"></ui:define>
			
			<ui:define name="content">
				<div class="panel panel-default common-titlepanel">
				  	<div class="panel-heading common-titlepanel-header">Modification de photo</div>
				</div>
				
				<div class="panel panel-default common-panel">
					<div class="panel-body common-panel-body">
						<h:form>
							<h:graphicImage styleClass="common-width-100" library="photos" name="#{myPhotosEditController.photo.fileName}-large.jpg"/>
					        <br/>
					        <br/>
					        <div class="form-group">
							    <label for="pickList1">Catégories</label>
							    <p:pickList id="pickList"  value="#{myPhotosEditController.dualSelectedCategories}" var="category" itemLabel="#{category.descriptionFr}"
							    	itemValue="#{category}" converter="#{categoryConverter}" required="true" requiredMessage="Cette photo doit contenir minimum 1 catégorie"/>
						    	<h:message for="pickList" errorClass="text-danger"/>
						  	</div>
					        <div class="form-group">
							    <label for="description">Description</label>
							    <h:inputTextarea id="description" class="form-control" rows="5" styleClass="common-width-100" value="#{myPhotosEditController.photo.description}"
							    	required="true" requiredMessage="Ce champs est obligatoire"/>
							    <h:message for="description" errorClass="text-danger"/>
						  	</div>
						  	
						  	<h:panelGroup styleClass="pull-left">
								<pretty:link mappingId="myphotos"><h:outputText value="Annuler" styleClass="btn btn-default"/></pretty:link>
							</h:panelGroup>
							<h:panelGroup styleClass="pull-right">
								<h:commandButton value="Enregistrer" class="btn btn-default" actionListener="#{myPhotosEditController.save}"/>
							</h:panelGroup>
			  			</h:form>
	                </div>
                </div>
			</ui:define>
		</ui:composition>
	</h:body>
</html>